# План реализации Telegram-бота для 360‑градусного фидбэка

## Общее количество шагов
Всего **8 шагов** от скелета проекта до полной функциональности.

| Step | Статус | Краткое описание | Ожидаемый результат | Критерий завершения |
|------|------------------|---------------------|---------------------|
| **1** | ⏳ В процессе | Проект‑скелет: Telegram‑бот, подключение Google Sheets, команды `/start`, `/help`, `/status`. | Рабочий бот, реагирующий в чате; успешное чтение таблицы `Employees`. | HR вводит `/status` → ответ «Активных циклов нет». |
| **2** | ❌ Не начато | Команда `/new_cycle`: ввод Target, Respondent_IDs[], Deadline; проверка лимита ≤5; лист цикла, статус Draft ➜ Collecting. | Создан лист `YYYY-MM-DD_Target`, бот пишет «Цикл создан». | Новый лист виден в Google Sheets. |
| **3** | ❌ Не начато | Генерация персональных ссылок респондентов, хранение назначений. | HR получает список ссылок; связка `Cycle_ID–Respondent_ID` сохранена. | Запись связки в хранилище. |
| **4** | ❌ Не начато | Форма респондента: показ анкеты (8 оценочных + 2 открытых), локальная валидация, черновик. | Респондент заполняет форму; может вернуться к черновику. | Сабмит сохраняет строку в листе. |
| **5** | ❌ Не начато | Очередность анкет: новая анкета выдаётся только после сабмита предыдущей. | Исключён параллельный обход форм. | Тест с двумя назначениями — работает корректно. |
| **6** | ❌ Не начато | Напоминания респондентам (каждые 3 дня + финальный за 2 дня) и ежедневная HR‑сводка 09:00 МСК. | HR получает сводку; респонденты — пинги. | Сообщения приходят по расписанию. |
| **7** | ❌ Не начато | Автогенерация итогового отчёта (markdown + CSV) после дедлайна. | HR получает отчёт с средними, буллетами, GPT‑цитатами. | Формат отчёта соответствует ТЗ. |
| **8** | ❌ Не начато | Доп. команды `/cancel`, расширенный `/status`; логирование. | HR может отменить цикл, видеть прогресс; логи пишутся. | Все команды работают в тестах. |

---

## Логика статусов

| Статус | Описание |
|--------|----------|
| **Draft** | Цикл создан, ждёт начала сбора. |
| **Collecting** | Идёт сбор анкет. |
| **Closed** | Дедлайн прошёл или цикл отменён. |
| **Reported** | Итоговый отчёт отправлен HR. |

---

## Напоминания и таймеры (МСК)

* Пинг респондентам — каждые 3 дня после запуска цикла.  
* Финальный пинг — за 2 дня до дедлайна.  
* HR‑сводка — ежедневно в 09:00.

---

## Команды HR

```
/new_cycle
/cancel <Cycle_ID>
/status
/help
```

---

> Все текстовые сообщения бота и интерфейс — **на русском языке**.
